{% extends 'base.html.twig' %}

{% block title %}Hello SessionController!{% endblock %}

{% block body %}

<div>
    <h1>Hello {{ controller_name }}!</h1>

    <table class="table table-striped table-bordered mt-3">
        <caption class="h2 text-center caption-top">
            Modules de la session {{session}}
        </caption>
        <thead class="table-dark">
            <tr>
                <th>
                    Module
                </th>
                <th class="w-25">
                    Nb Jours
                </th>
                <th class="w-25">
                    Administration
                </th>
            </tr>
        </thead>
        <tbody>
            {% for programme in session.programmes %}
            <tr>
                <td><a href="">{{programme}}</a></td>
                <td>{{programme.nombreJour}}</td>
                <td><a href="{{ path('removeProgramme_session', {'id': session.id, 'prog_id': programme.id} ) }}" class="btn  btn-danger">RETIRER</a></td>
            </tr>
            {% endfor %}
            <tr  class="table-primary">
                    {{form_start(form)}}
                    <td>
                        {{form_widget(form.module)}}
                    </td>
                    <td>
                        {{form_widget(form.nombreJour)}}
                    </td>
                    <td>
                        {{form_widget(form.submit, {'label' : 'AJOUTER'})}}
                    </td>
                    {{form_end(form)}}
            </tr>
        </tbody>
    </table>

    <table class="table table-striped table-bordered mt-3">
        <caption class="h2 text-center caption-top">
            Stagiaires inscrits
        </caption>
        <thead class="table-dark">
            <tr>
                <th>
                    Nom - Prénom
                </th>
                <th class="w-25">
                    Administration
                </th>
            </tr>
        </thead>
        <tbody>
             {% for stagiaire in session.stagiaires %}
            <tr>
                <td><a href="{{ path('show_stagiaire', {'id' : stagiaire.Id} ) }}">{{stagiaire}}</a></td>
                <td><a href="{{ path('removeStagiaire_session', {'id': session.id, 'stag_id': stagiaire.id} ) }}" class="btn  btn-danger">RETIRER</a></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <table class="table table-striped table-bordered mt-3">
        <caption class="h2 text-center caption-top">
            Stagiaires non-inscrits
        </caption>
        <thead class="table-dark">
            <tr>
                <th>
                    Nom - Prénom
                </th>
                <th class="w-25">
                    Administration
                </th>
            </tr>
        </thead>
        <tbody>
            {% for stagiaire in learnersNotInSession %}
            <tr>
                <td><a href="{{ path('show_stagiaire', {'id' : stagiaire.id} ) }}">{{stagiaire}}</a></td>
                <td><a href="{{ path('addStagiaire_session', {'id': session.id, 'stag_id': stagiaire.id} ) }}" class="btn btn-success">AJOUTER</a></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
